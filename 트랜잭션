트랜잭션(Transaction)
트랜잭션과 예외처리는 매우 밀접한 관련이 있다.
트랜잭션과 예외처리가 서로 어떤 관련이 있는지 알아보도록
하자. 
트랜잭션은 하나의 작업 단위를 뜻한다.
쇼핑몰의 "상품발송"이라는 트랜잭션을 가정 해보자.
"상품발송"이라는 트랜잭션에는 다음과 같은 작업들이
있을 수 있다.

포장 
영수증발행
발송

이 3가지 일들 중 하나라도 실패하면 3가지 모두 취소하고 
"상품발송"전 상태로 되돌리고 싶을 것이다. (모두 취소하지
않으면 데이터의 정합성이 크게 흔들리게 된다.이렇게 
모두 취소하는 행위를 보통 전문용어로 롤백(Rollback)이라고 
한다. 

상품발송() {
	포장();
	영수증발행();
	발송();
}

포장() {
 .....
}

영수증발행(){
  ....
}
발송() {
 ....
}
쇼핑몰 운영자는 포장, 영수증발행, 발송이라는 세 가지중 
1가지라도 실패하면 모두 취소하고 싶어한다. 이런경우 
어떻게 예외처리를 하는 것이 좋겠는가? ^^

다음과 같이 포장, 영수증발행, 발송 메서드에는 예외를 
throw 하고 상품발송 메서드에서 throw된 예외를 처리하여
모두 취소하는 것이 완벽한 트랙잭션 처리 방법이다.

상품발송() {
    try{
	포장();
             영수증발행();
             발송();
   }catch(예외) {
	모두취소
  }
}

포장() throws 예외 {
   .....
}
영수증발행() throws 예외 {
  .....
}
발송() throws 예외 {
  ....
}

원문글 https://wikidocs.net/230



